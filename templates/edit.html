{% extends 'base.html' %}
{% block content %}
<h2>Edit Record</h2>
<form method="POST" onsubmit="return validateForm()">
    <div class="mb-3">
        <label>Name</label>
        <input type="text" name="name" class="form-control" value="{{ record.name }}" required>
    </div>
    <div class="mb-3">
        <label>Program</label>
        <input type="text" name="program" class="form-control" value="{{ record.program }}" required>
    </div>
    <div class="mb-3">
        <label>Year</label>
        <input type="number" name="year" class="form-control" value="{{ record.year }}" required>
    </div>
    <div class="mb-3">
        <label>Course</label>
        <input type="text" name="course" class="form-control" value="{{ record.course }}" required>
    </div>
    <button type="submit" class="btn btn-primary">Update</button>
</form>

<script>
function validateForm() {
    const fields = ['name', 'program', 'year', 'course'];
    for (const field of fields) {
        const value = document.getElementsByName(field)[0].value.trim();
        if (value === '') {
            alert('Please fill out all fields properly.');
            return false;
        }
        if ((field !== 'year' && /\d/.test(value)) || (field === 'year' && /[a-zA-Z]/.test(value))) {
            alert('Invalid input in ' + field + ' field.');
            return false;
        }
    }
    return true;
}
</script>
{% endblock %}